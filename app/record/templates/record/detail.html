{% extends 'base.html' %}
{% load tz %}

{% block title %}{{ title }} 提交记录 - DE Online Judge{% endblock %}

{% block content %}
    <table class="table table-striped table-condensed table-bordered fiexd">
        <tbody>
            <tr>
                <th width="10%">记录编号</th>
                <td width="40%">{{ record_id }}</td>
                <th width="10%">评测结果</th>
                <td width="40%">
                    {{ status }}
                </td>
            </tr>
            <tr>
                <th>题目名称</th>
                <td><a href="{% url 'problem:detail' id=problem_id %}">{{ problem_title }}</a></td>
                <th>最终得分</th>
                <td>{{ score }}</td>
            </tr>
            <tr>
                <th>用户昵称</th>
                <td><a href="##">{{ request.user.nickname }}</a></td>
                <th>测试点数</th>
                <td><span class="ok">{{ total_point }}</span></td>
            </tr>
            <tr>
                <th>代码语言</th>
                <td>{{ language }}</td>
                <th>提交时间</th>
                <td>{{ create_datetime|localtime }}</td>
            </tr>
        </tbody>
    </table>

    <hr/>

    {% if message %}
    <div class="topicpanel">
        <div class="topic-content">
            <p style="color: grey; font-size: 13px">编译输出信息：</p>
            <p>{{ message|linebreaksbr }}</p>
        </div>
    </div>
    {% endif %}

    <div class="topicpanel">
        <div class="topic-content">
            {% for detail in record_detail %}
                测试点 {{ forloop.counter }}：{{ detail.status }} （分数：{{ detail.score }}）<br/>
                {% if detail.message %}
                    <br/>
                    <div class="alert alert-block">
                        <p>{{ detail.message|linebreaksbr }}</p>
                    </div>
                    <br/>
                {% endif %}
            {% endfor %}
        </div>
        <!--topic-content-->
    </div>
{% endblock %}