{% extends 'base.html' %}
{% load staticfiles %}

{% block title %}DE Online Judge{% endblock %}

{% block content %}
    <div class="row">
        <div id="dashboard-left" class="col-md-8">
            <h5 class="subtitle">全站统计</h5><br/>
            <div id="chartplace" style="height:300px;"></div>
            <div class="divider30"></div>
            <h5 class="subtitle">最新题目</h5><br/>
            <table class="table table-bordered responsive">
                <thead>
                    <tr>
                        <th class="head1">ID</th>
                        <th class="head0">名称</th>
                        <th class="head1">AC 人数</th>
                        <th class="head0">提交人数</th>
                        <th class="head1">来源</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 5.5</td>
                        <td>Win 95+</td>
                        <td class="center">5.5</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 6</td>
                        <td>Win 98+</td>
                        <td class="center">6</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                    <tr>
                        <td>Trident</td>
                        <td>Internet Explorer 7</td>
                        <td>Win XP SP2+</td>
                        <td class="center">7</td>
                        <td class="center">A</td>
                    </tr>
                </tbody>
            </table>
            <br/>
        </div>

        <div id="dashboard-right" class="col-md-4">
            <h5 class="subtitle">排行榜</h5><br/>
            <div class="widgetbox">
                <div class="headtitle">
                    <h4 class="widgettitle">AC 排行榜</h4>
                </div>
                <div class="widgetcontent">
                    <ul class="chatusers">
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                    </ul>
                </div>
            </div>
            <br/>
            <div class="widgetbox">
                <div class="headtitle">
                    <h4 class="widgettitle">正确率排行榜</h4>
                </div>
                <div class="widgetcontent">
                    <ul class="chatusers">
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                        <li>
                            <a href=""><img src="{% static 'images/chatthumb.png' %}" alt=""><span>Doraemonext</span></a>
                            <span class="msgcount">100</span></li>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block customjs %}
    <script type="text/javascript">
        jQuery(document).ready(function () {

            // simple chart
            var flash = [[0, 11], [1, 9], [2, 12], [3, 8], [4, 7], [5, 3], [6, 1]];
            var html5 = [[0, 5], [1, 4], [2, 4], [3, 1], [4, 9], [5, 10], [6, 13]];
            var css3 = [[0, 6], [1, 1], [2, 9], [3, 12], [4, 10], [5, 12], [6, 11]];

            function showTooltip(x, y, contents) {
                jQuery('<div id="tooltip" class="tooltipflot">' + contents + '</div>').css({
                    position: 'absolute',
                    display: 'none',
                    top: y + 5,
                    left: x + 5
                }).appendTo("body").fadeIn(200);
            }


            var plot = jQuery.plot(jQuery("#chartplace"),
                    [{data: flash, label: "Flash(x)", color: "#6fad04"},
                        {data: html5, label: "HTML5(x)", color: "#06c"},
                        {data: css3, label: "CSS3", color: "#666"}], {
                        series: {
                            lines: {show: true, fill: true, fillColor: {colors: [{opacity: 0.05}, {opacity: 0.15}]}},
                            points: {show: true}
                        },
                        legend: {position: 'nw'},
                        grid: {hoverable: true, clickable: true, borderColor: '#666', borderWidth: 2, labelMargin: 10},
                        yaxis: {min: 0, max: 15}
                    });

            var previousPoint = null;
            jQuery("#chartplace").bind("plothover", function (event, pos, item) {
                jQuery("#x").text(pos.x.toFixed(2));
                jQuery("#y").text(pos.y.toFixed(2));

                if (item) {
                    if (previousPoint != item.dataIndex) {
                        previousPoint = item.dataIndex;

                        jQuery("#tooltip").remove();
                        var x = item.datapoint[0].toFixed(2),
                                y = item.datapoint[1].toFixed(2);

                        showTooltip(item.pageX, item.pageY,
                                item.series.label + " of " + x + " = " + y);
                    }

                } else {
                    jQuery("#tooltip").remove();
                    previousPoint = null;
                }

            });

            jQuery("#chartplace").bind("plotclick", function (event, pos, item) {
                if (item) {
                    jQuery("#clickdata").text("You clicked point " + item.dataIndex + " in " + item.series.label + ".");
                    plot.highlight(item.series, item.datapoint);
                }
            });


            //datepicker
            jQuery('#datepicker').datepicker();

            // tabbed widget
            jQuery('.tabbedwidget').tabs();


        });
    </script>
{% endblock %}